<section class="page__register">
  <div class="page__register__title">
    <h1>Bem-vindo(a) ao GEFShoes</h1>
    <div style="display: flex; align-items: center; justify-content: center">
      <!-- <img style="margin: 0;" src="../../../assets/icons/word.svg"> -->
      <img src="../../../assets/icons/shoe.svg" />
      <p>Seja um membro GEF!</p>
    </div>
  </div>

  <div class="page__register__form">
    <form [formGroup]="registerForm" #content (submit)="submit()">
      <!-- E-mail -->
      <mat-form-field class="page__register__form__items">
        <mat-label>E-mail</mat-label>
        <input
          type="email"
          matInput
          color="primary"
          formControlName="email"
          autocomplete="email"
          required
        />
        <mat-error *ngIf="registerForm.get('email')?.hasError('email')"
          >Por favor, insira um e-mail válido</mat-error
        >
        <mat-error *ngIf="registerForm.get('email')?.hasError('required')"
          >E-mail é <strong>necessário</strong></mat-error
        >
      </mat-form-field>

      <!-- Senha -->
      <mat-form-field class="page__register__form__items">
        <mat-label>Senha</mat-label>
        <input
          matInput
          type="password"
          #password
          (input)="comparePassword(password.value, confirmPassword.value)"
          [type]="hide ? 'password' : 'text'"
          autocomplete="on"
          required
        />
        <button
          class="form__icon__eyes"
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>

      <!-- Confirmação de senha -->
      <mat-form-field class="page__register__form__items">
        <mat-label>Confirme sua senha</mat-label>
        <input
          formControlName="password"
          matInput
          type="password"
          #confirmPassword
          (input)="comparePassword(password.value, confirmPassword.value)"
          [type]="hide ? 'password' : 'text'"
          autocomplete="on"
          required
        />
        <button
          class="form__icon__eyes"
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>
      <div
        class="form__msg__error"
        style="text-align: left; margin-bottom: 20px; font-weight: 500"
        *ngIf="
          registerForm.get('password')?.hasError('minlength') &&
          registerForm.get('password')?.touched
        "
      >
        A senha deve ter no mínimo 8 caracteres.
      </div>

      <mat-error class="form__msg__error" *ngIf="!samePassword"
        >As senhas não são semelhantes.</mat-error
      >
    </form>
    <!-- Mensagem de erro -->
    <div *ngIf="errorOccurred" class="page__register__error-message">
      <p>E-mail ou senha inseridos inválidos. Por favor, tente novamente.</p>
    </div>
    <button
      [disabled]="!this.samePassword || !this.registerForm.valid"
      (click)="createAccount()"
      class="page__register__form__button"
      mat-raised-button
      type="submit"
    >
      Criar conta
    </button>
  </div>
</section>
